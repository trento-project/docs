name: ROOT
title: Trento Documentation
version: 2.5
display_version: 'version: 2.5'
nav:
- modules/user-guide/nav_user_guide.adoc
- modules/developer/nav_developer.adoc
- modules/api-specification/nav_api_specification.adoc

ext:
  collector:
    ## Remove previous documentation build
    - clean:
        - dir: trento-docs-site/build
    - scan: 
    # Trento user facing documentation from Trento docs repo https://github.com/trento-project/docs
      - dir: trento/adoc
        files: '**/*.adoc'
        into: modules/user-guide/pages
      - dir: trento/images/src/png
        files: '**/*.png'
        into: modules/user-guide/images
    - run:
        command: trento-docs-site/scripts/generate-attributes-yaml.sh trento/adoc/generic-attributes.adoc ./trento-docs-site/build/adoc_variables/user-guide/antora.yml
    - scan:
        dir: trento-docs-site/build/adoc_variables/user-guide/
        files: 'antora.yml'
    - scan:
      - dir: ./..
        files: 'README.adoc'
        into: modules/developer/pages
      - dir: content
        files: '**/*.adoc'
        into: modules/developer/pages/
      - dir: content/images
        files: '**/*.{png,jpg,jpeg,svg,gif}'
        into: modules/developer/images/images

